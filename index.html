<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HSK ì‘ë¬¸ í€´ì¦ˆ ì˜ìƒ</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#001f3f">
  <link rel="icon" href="icon.png">
  <style>
    body {
      font-family: 'Noto Sans KR', sans-serif;
      background: linear-gradient(to bottom, #001f3f, #003366);
      color: #f5f5f5;
      text-align: center;
      padding: 2rem;
      margin: 0;
    }
    h1 {
      font-size: 2rem;
      color: #00bfff;
      margin-bottom: 1rem;
    }
    .controls {
      margin-bottom: 1.5rem;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
    }
    .controls label {
      font-size: 1rem;
    }
    .text-box {
      font-size: 1.5rem;
      margin: 1.5rem auto;
      opacity: 0;
      transition: opacity 1s;
      max-width: 800px;
      padding: 1rem;
      border-radius: 12px;
      background-color: rgba(255,255,255,0.1);
      word-break: keep-all;
    }
    .visible {
      opacity: 1;
    }
    button {
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      background-color: #00bfff;
      border: none;
      border-radius: 8px;
      color: white;
      cursor: pointer;
    }
    button:hover {
      background-color: #009acd;
    }
    select, input[type="checkbox"] {
      font-size: 1rem;
    }

    @media (max-width: 600px) {
      body {
        padding: 1rem;
      }
      h1 {
        font-size: 1.5rem;
      }
      .text-box {
        font-size: 1.2rem;
        padding: 0.8rem;
      }
      button {
        font-size: 0.9rem;
        padding: 0.5rem 1rem;
      }
    }
  </style>
</head>
<body>
  <h1>ğŸ“˜ HSK 4ê¸‰ ì‘ë¬¸ í€´ì¦ˆ</h1>

  <div class="controls">
    <label>
      <input type="checkbox" id="autoPlay" checked>
      ìë™ ì¬ìƒ
    </label>
    <label>
      ìŒì„±:
      <select id="voiceMode">
        <option value="zh">ì¤‘êµ­ì–´ë§Œ</option>
        <option value="ko">í•œê¸€ë§Œ</option>
        <option value="both">ì¤‘êµ­ì–´+í•œê¸€</option>
        <option value="none">ìŒì„± ì—†ìŒ</option>
      </select>
    </label>
    <button onclick="togglePlay()" id="toggleBtn">â¸ ì¼ì‹œì •ì§€</button>
  </div>

  <h2 id="question" class="text-box">Q. ê·¸ê°€ ì™”ì–ì•„!</h2>
  <div class="text-box" id="sentence">ä»–æ¥äº†å•Šï¼ã€‚</div>

  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log('Service Worker Registered'));
    }

    const quizList = [
  { ko: "ê·¸ê°€ ì™”ì–ì•„!", zh: "ä»–æ¥äº†å•Šï¼" },
  { ko: "ë‚˜ëŠ” ë‚´ ê°€ì¡±ì„ ì‚¬ë‘í•´.", zh: "æˆ‘çˆ±æˆ‘çš„å®¶äººã€‚" },
  { ko: "ê·¸ëŠ” ë‚˜ë³´ë‹¤ ì¡°ê¸ˆ ì‘ë‹¤.", zh: "ä»–æ¯”æˆ‘çŸ®ä¸€ç‚¹ã€‚" },
  { ko: "ë‚´ ì·¨ë¯¸ëŠ” ê·¸ë¦¼ ê·¸ë¦¬ê¸°ì•¼.", zh: "æˆ‘çš„çˆ±å¥½æ˜¯ç”»ç”»ã€‚" },
  { ko: "ë„ì„œê´€ì€ ì•„ì£¼ ì¡°ìš©í•˜ë‹¤.", zh: "å›¾ä¹¦é¦†é‡Œå¾ˆå®‰é™ã€‚" },
  { ko: "ì•„ì¤Œë§ˆê°€ ì €ë…ì„ í•´ì£¼ì…¨ì–´.", zh: "é˜¿å§¨ç»™æˆ‘åšäº†æ™šé¥­ã€‚" },
  { ko: "ìš°ë¦¬ ê°€ì!", zh: "æˆ‘ä»¬èµ°å§ï¼" },
  { ko: "ë¬¸ì„ ë‹«ì•„ ì£¼ì„¸ìš”.", zh: "è¯·æŠŠé—¨å…³ä¸Šã€‚" },
  { ko: "ë‚˜ëŠ” íœì´ ì—¬ëŸ ìë£¨ ìˆì–´.", zh: "æˆ‘æœ‰å…«æ”¯ç¬”ã€‚" },
  { ko: "ë‚´ ì•„ë²„ì§€ëŠ” ì„ ìƒë‹˜ì´ì•¼.", zh: "æˆ‘çˆ¸çˆ¸æ˜¯è€å¸ˆã€‚" },
  { ko: "ì´ ì˜·ì€ í°ìƒ‰ì´ë‹¤.", zh: "è¿™ä»¶è¡£æœæ˜¯ç™½è‰²çš„ã€‚" },
  { ko: "ì—¬ê¸°ì— ì±…ì´ ë°± ê¶Œ ìˆì–´.", zh: "è¿™é‡Œæœ‰ä¸€ç™¾æœ¬ä¹¦ã€‚" },
  { ko: "ë‚˜ëŠ” ì‚¬ê³¼ ë°˜ ê°œë§Œ ë¨¹ì—ˆì–´.", zh: "æˆ‘åªåƒäº†åŠä¸ªè‹¹æœã€‚" },
  { ko: "ìš°ë¦¬ ë°˜ì—” í•™ìƒì´ ìŠ¤ë¬´ ëª… ìˆë‹¤.", zh: "æˆ‘ä»¬ç­æœ‰äºŒåä¸ªå­¦ç”Ÿã€‚" },
  { ko: "ë‚˜ ì–´ì œ ì´ì‚¬í–ˆì–´.", zh: "æˆ‘æ˜¨å¤©æ¬å®¶äº†ã€‚" },
  { ko: "ì¢‹ì€ ë°©ë²•ì´ ìˆì–´.", zh: "æˆ‘æœ‰ä¸€ä¸ªå¥½åŠæ³•ã€‚" },
  { ko: "ì¢€ ë„ì™€ì¤„ ìˆ˜ ìˆì–´?", zh: "ä½ èƒ½å¸®å¿™ä¸€ä¸‹å—ï¼Ÿ" },
  { ko: "ê·¸ëŠ” ì‚¬ë¬´ì‹¤ì—ì„œ ì¼í•´.", zh: "ä»–åœ¨åŠå…¬å®¤å·¥ä½œã€‚" },
  { ko: "ë„ì™€ì¤˜ì„œ ê³ ë§ˆì›Œ.", zh: "è°¢è°¢ä½ çš„å¸®åŠ©ã€‚" },
  {ko: "ë‚˜ëŠ” ë°¥ì„ ë§ì´ ë¨¹ì–´ì„œ ë°°ë¶ˆëŸ¬.", zh: "æˆ‘åƒäº†å¾ˆå¤šé¥­ï¼Œç°åœ¨å¾ˆé¥±ã€‚"}
  { ko: "ê·¸ë…€ëŠ” ë§Œë‘ í•˜ë‚˜ë¥¼ ìŒŒì–´.", zh: "å¥¹åŒ…äº†ä¸€ä¸ªé¥ºå­ã€‚" },
  { ko: "ë‚˜ëŠ” ë§¤ì¼ ì•„ì¹¨ ì‹ ë¬¸ì„ ë³¸ë‹¤.", zh: "æˆ‘æ¯å¤©æ—©ä¸Šçœ‹æŠ¥çº¸ã€‚" },
  { ko: "ë‚´ í•¸ë“œí°ì´ ê·¸ì—ê²Œ ê°€ì ¸ê°€ì¡Œì–´.", zh: "æˆ‘çš„æ‰‹æœºè¢«ä»–æ‹¿èµ°äº†ã€‚" },
  { ko: "ë¶ìª½ì˜ ê²¨ìš¸ì€ ì•„ì£¼ ì¶¥ë‹¤.", zh: "åŒ—æ–¹çš„å†¬å¤©å¾ˆå†·ã€‚" },
  { ko: "ë‚´ë…„ì— ë² ì´ì§• ì—¬í–‰ ê°ˆ ê±°ì•¼.", zh: "æˆ‘æ˜å¹´å»åŒ—äº¬æ—…è¡Œã€‚" },
  { ko: "ì±…ìƒ ìœ„ì— ì»µ í•˜ë‚˜ê°€ ìˆì–´.", zh: "æ¡Œå­ä¸Šæœ‰ä¸€ä¸ªæ¯å­ã€‚" },
  { ko: "ìƒˆ ì±… í•œ ê¶Œì„ ìƒ€ì–´.", zh: "æˆ‘ä¹°äº†ä¸€æœ¬æ–°ä¹¦ã€‚" },
  { ko: "ë„ˆëŠ” ë‚˜ë³´ë‹¤ í‚¤ê°€ í¬ë‹¤.", zh: "ä½ æ¯”æˆ‘é«˜ã€‚" },
  { ko: "ì´ ëª‡ ë…„ê°„ ë„ì‹œê°€ ë§ì´ ë³€í–ˆì–´.", zh: "è¿™å‡ å¹´åŸå¸‚å˜åŒ–å¾ˆå¤§ã€‚" },
  { ko: "ë§í•˜ì§€ ë§ˆ.", zh: "åˆ«è¯´è¯äº†ã€‚" },
  { ko: "ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ë‹¤ ê°”ì–´.", zh: "åˆ«äººéƒ½èµ°äº†ã€‚" },
  { ko: "ì´ ë¬¸ì œëŠ” ë¹„êµì  ì‰¬ì›Œ.", zh: "è¿™ä¸ªé—®é¢˜æ¯”è¾ƒå®¹æ˜“ã€‚" },
  { ko: "ë‚˜ëŠ” ë…¸íŠ¸ì— í•„ê¸°í•´.", zh: "æˆ‘ç”¨ç¬”è®°æœ¬è®°ç¬”è®°ã€‚" },
  { ko: "ìš°ë¦¬ëŠ” í˜¸í…”ì— ë¬µì—ˆì–´.", zh: "æˆ‘ä»¬ä½åœ¨å®¾é¦†é‡Œã€‚" },
  { ko: "ëƒ‰ì¥ê³  ì•ˆì— ê³¼ì¼ì´ ë§ì•„.", zh: "å†°ç®±é‡Œæœ‰å¾ˆå¤šæ°´æœã€‚" },
  { ko: "ë‚´ì¼ ë†êµ¬ ì‹œí•©ì´ ìˆì–´.", zh: "æˆ‘ä»¬æ˜å¤©æœ‰ä¸€åœºç¯®çƒæ¯”èµ›ã€‚" },
  { ko: "ë„Œ ë°˜ë“œì‹œ ì—´ì‹¬íˆ ê³µë¶€í•´ì•¼ í•´.", zh: "ä½ å¿…é¡»åŠªåŠ›å­¦ä¹ ã€‚" },
  { ko: "ê·¸ì˜ ì½”ëŠ” ë†’ë‹¤.", zh: "ä»–çš„é¼»å­å¾ˆé«˜ã€‚" },
  { ko: "ë‚˜ëŠ” ì»¤í”¼ë¥¼ ì¢‹ì•„í•˜ì§€ ì•Šì•„.", zh: "æˆ‘ä¸å–œæ¬¢å’–å•¡ã€‚" },
  { ko: "ê·¸ëŠ” ë˜‘ë˜‘í•  ë¿ë§Œ ì•„ë‹ˆë¼ ì—´ì‹¬íˆë„ í•´.", zh: "ä»–ä¸ä½†èªæ˜è€Œä¸”å¾ˆåŠªåŠ›ã€‚" },
];


    let index = 0;
    let isPlaying = true;
    let timer = null;

    function speak(text, lang) {
      if (document.getElementById("voiceMode").value === "none") return;
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = lang;
      utter.rate = 1.0;
      speechSynthesis.speak(utter);
    }

    function showQuiz() {
      if (index >= quizList.length) index = 0;

      const q = quizList[index];
      const question = document.getElementById("question");
      const sentence = document.getElementById("sentence");
      const voiceMode = document.getElementById("voiceMode").value;

      question.classList.remove("visible");
      sentence.classList.remove("visible");
      speechSynthesis.cancel();

      setTimeout(() => {
        question.textContent = `Q. ${q.ko}`;
        question.classList.add("visible");
        if (voiceMode === "ko" || voiceMode === "both") speak(q.ko, 'ko-KR');
      }, 500);

      setTimeout(() => {
        sentence.textContent = q.zh;
        sentence.classList.add("visible");
        if (voiceMode === "zh" || voiceMode === "both") speak(q.zh, 'zh-CN');
      }, 3000);

      if (document.getElementById("autoPlay").checked && isPlaying) {
        timer = setTimeout(() => {
          index++;
          showQuiz();
        }, 8000);
      }
    }

    function togglePlay() {
      isPlaying = !isPlaying;
      const btn = document.getElementById("toggleBtn");

      if (isPlaying) {
        btn.textContent = "â¸ ì¼ì‹œì •ì§€";
        showQuiz();
      } else {
        btn.textContent = "â–¶ ì¬ìƒ";
        clearTimeout(timer);
        speechSynthesis.cancel();
      }
    }

    showQuiz();
  </script>
</body>
</html>